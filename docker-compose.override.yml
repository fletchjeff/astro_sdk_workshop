version: '2'
services:
  minio:
    image: quay.io/minio/minio
    networks:
      - airflow
    command: server /data --console-address ":9001"
    ports:
      - 9000:9000
      - 9001:9001
    restart: always      
  pgadmin:
    image: dpage/pgadmin4
    networks:
      - airflow
    ports:
      - 5050:80
    environment:
    - PGADMIN_DEFAULT_EMAIL=name@example.com
    - PGADMIN_DEFAULT_PASSWORD=admin
    extra_hosts:
      - "host.docker.internal:host-gateway"
    restart: always
  scheduler:
    extra_hosts:
      - "host.docker.internal:host-gateway"  
  webserver:
    extra_hosts:
      - "host.docker.internal:host-gateway"
  triggerer:
    extra_hosts:
      - "host.docker.internal:host-gateway"
